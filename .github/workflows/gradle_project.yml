name: Gradle Java project Github Actions build.
# Define when the worklow should run. On a push to main, a PR to main or manually with workflow_dispatch

on:
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]
  workflow_dispatch:

# Define some jobs that should run

jobs: 
  gradle:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-java@v1
        with: 
          java-version: 8
      - name: Building with Gradle
        run: |
         ./gradlew build
         ./gradlew test
         ./gradlew test --tests AppTest
         ./gradlew test --tests AppTest2
         ./gradlew deploy
